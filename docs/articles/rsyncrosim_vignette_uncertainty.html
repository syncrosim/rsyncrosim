<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>`rsyncrosim`: introduction to uncertainty • rsyncrosim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="`rsyncrosim`: introduction to uncertainty">
<meta property="og:description" content="rsyncrosim">
<meta property="og:image" content="https://syncrosim.github.io/rsyncrosim/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rsyncrosim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rsyncrosim_install_beta.html">Installing beta release</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_stsim_vignette.html">Introduction to `ST-Sim` in `rsyncrosim`</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_basic.html">Introduction to `rsyncrosim`</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_pipelines.html">`rsyncrosim`: introduction to pipelines</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_spatial.html">`rsyncrosim`: introduction to spatial data</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_uncertainty.html">`rsyncrosim`: introduction to uncertainty</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/syncrosim/rsyncrosim/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rsyncrosim_vignette_uncertainty_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>
<code>rsyncrosim</code>: introduction to uncertainty</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/syncrosim/rsyncrosim/blob/master/vignettes/rsyncrosim_vignette_uncertainty.Rmd"><code>vignettes/rsyncrosim_vignette_uncertainty.Rmd</code></a></small>
      <div class="hidden name"><code>rsyncrosim_vignette_uncertainty.Rmd</code></div>

    </div>

    
    
<p>This vignette will cover Monte Carlo realizations for modeling uncertainty using the <code>rsyncrosim</code> package within the <a href="https://syncrosim.com/" target="_blank">SyncroSim</a> software framework. For an overview of <a href="https://syncrosim.com/" target="_blank">SyncroSim</a> and <a href="https://cran.r-project.org/web/packages/rsyncrosim/index.html" target="_blank"><code>rsyncrosim</code></a>, as well as a basic usage tutorial for <code>rsyncrosim</code>, see the <a href="https://syncrosim.github.io/rsyncrosim/rsyncrosim_vignette_basic.html">Introduction to <code>rsyncrosim</code></a> vignette.</p>
<div id="syncrosim-package-helloworlduncertainty" class="section level2">
<h2 class="hasAnchor">
<a href="#syncrosim-package-helloworlduncertainty" class="anchor"></a>SyncroSim Package: <code>helloworldUncertainty</code>
</h2>
<p>To demonstrate how to quantify model uncertainty using the <code>rsyncrosim</code> interface, we will need the <a href="https://github.com/ApexRMS/helloworldUncertainty" target="_blank">helloworldUncertainty</a> SyncroSim package. <code>helloworldUncertainty</code> was designed to be a simple package for introducing iterations to SyncroSim modeling workflows. The use of iterations allows for repeated simulations, known as “Monte Carlo realizations”, in which each simulation independently samples from a distribution of values.</p>
<p>The package takes from the user 3 inputs, <em>mMean</em>, <em>mSD</em>, and <em>b</em>. For each iteration, a value <em>m</em>, representing the slope, is sampled from a normal distribution with mean of <em>mMean</em> and standard deviation of <em>mSD</em>. The <em>b</em> value represents the intercept. These input values are run through a linear model, <em>y=mt+b</em>, where <em>t</em> is <em>time</em>, and the <em>y</em> value is returned as output.</p>
<div class="figure">
<img src="infographic-uncertainty.png" width="600" alt=""><p class="caption">Infographic of helloworldUncertainty package</p>
</div>
<p>For more details on the different features of the <code>helloworldUncertainty</code> SyncroSim package, consult the SyncroSim <a href="https://docs.syncrosim.com/how_to_guides/package_create_iterations.html" target="_blank">Enhancing a Package: Representing Uncertainty</a> tutorial.</p>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<div id="install-syncrosim" class="section level3">
<h3 class="hasAnchor">
<a href="#install-syncrosim" class="anchor"></a>Install SyncroSim</h3>
<p>Before using <code>rsyncrosim</code> you will first need to <a href="https://syncrosim.com/download/" target="_blank">download and install</a> the SyncroSim software. Versions of SyncroSim exist for both Windows and Linux.</p>
</div>
<div id="installing-and-loading-r-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-and-loading-r-packages" class="anchor"></a>Installing and loading R packages</h3>
<p>You will need to install the <code>rsyncrosim</code> R package, either using <a href="https://cran.r-project.org/" target="_blank">CRAN</a> or from the <code>rsyncrosim</code> <a href="https://github.com/syncrosim/rsyncrosim/releases/" target="_blank">GitHub repository</a>. Versions of <code>rsyncrosim</code> are available for both Windows and Linux.</p>
<p>In a new R script, load the <code>rsyncrosim</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load R package for working with SyncroSim</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://syncrosim.github.io/rsyncrosim">rsyncrosim</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="installing-syncrosim-packages-using-installPackage" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-syncrosim-packages-using-installPackage" class="anchor"></a>Installing SyncroSim packages using <code>installPackage()</code>
</h3>
<p>Install <code>helloworldUncertainty</code> using the <code>rynscrosim</code> function <code><a href="../reference/installPackage.html">installPackage()</a></code>. This function takes a package name as input and then queries the SyncroSim package server for the specified package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install helloworldUncertainty</span>
<span class="fu"><a href="../reference/installPackage.html">installPackage</a></span><span class="op">(</span><span class="st">"helloworldUncertainty"</span><span class="op">)</span></code></pre></div>
<pre><code>## Package &lt;helloworldUncertainty&gt; installed</code></pre>
<p><code>helloworldUncertainty</code> should now be included in the package list when we call the <code><a href="../reference/package.html">package()</a></code> function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get list of installed packages</span>
<span class="fu"><a href="../reference/package.html">package</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>##                    name                                 description version
## 1 helloworldUncertainty Example demonstrating how to use iterations   1.0.0</code></pre>
</div>
<div id="connecting-r-to-syncrosim-using-session" class="section level3">
<h3 class="hasAnchor">
<a href="#connecting-r-to-syncrosim-using-session" class="anchor"></a>Connecting R to SyncroSim using <code>session()</code>
</h3>
<p>Finish setting up the R environment for the <code>rsyncrosim</code> workflow by creating a SyncroSim Session object. Use the <code><a href="../reference/session.html">session()</a></code> function to connect R to your installed copy of the SyncroSim software.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="st">"path/to/install_folder"</span><span class="op">)</span>      <span class="co"># Create a Session based SyncroSim install folder</span>
<span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="op">)</span>                              <span class="co"># Using default install folder (Windows only)</span>
<span class="va">mySession</span>                                           <span class="co"># Displays the Session object</span></code></pre></div>
<pre><code>## class               : Session
## filepath [character]: C:/Program Files/SyncroSim
## silent [logical]    : TRUE
## printCmd [logical]  : FALSE</code></pre>
<p>Use the <code><a href="../reference/version.html">version()</a></code> function to ensure you are using the latest version of SyncroSim.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/version.html">version</a></span><span class="op">(</span><span class="va">mySession</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "2.3.3"</code></pre>
</div>
</div>
<div id="create-a-modeling-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-modeling-workflow" class="anchor"></a>Create a modeling workflow</h2>
<p>When creating a new modeling workflow from scratch, we need to create objects of the following scopes:</p>
<ul>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Library</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Projects</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Scenarios</a></li>
</ul>
<p>For more information on these scopes, see the <a href="https://syncrosim.github.io/rsyncrosim/rsyncrosim_vignette_basic.html">Introduction to <code>rsyncrosim</code></a> vignette.</p>
<div id="set-up-library-project-and-scenario" class="section level3">
<h3 class="hasAnchor">
<a href="#set-up-library-project-and-scenario" class="anchor"></a>Set up Library, Project, and Scenario</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a new Library</span>
<span class="va">myLibrary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ssimLibrary.html">ssimLibrary</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"helloworldLibrary.ssim"</span>,
                         session <span class="op">=</span> <span class="va">mySession</span>,
                         package <span class="op">=</span> <span class="st">"helloworldUncertainty"</span>,
                         overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Open the default Project</span>
<span class="va">myProject</span> <span class="op">=</span> <span class="fu"><a href="../reference/project.html">project</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myLibrary</span>, project <span class="op">=</span> <span class="st">"Definitions"</span><span class="op">)</span>

<span class="co"># Create a new Scenario (associated with the default Project)</span>
<span class="va">myScenario</span> <span class="op">=</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myProject</span>, scenario <span class="op">=</span> <span class="st">"My first scenario"</span><span class="op">)</span></code></pre></div>
</div>
<div id="view-model-inputs-using-datasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#view-model-inputs-using-datasheet" class="anchor"></a>View model inputs using <code>datasheet()</code>
</h3>
<p>View the Datasheets associated with your new Scenario using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function from <code>rsyncrosim</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View all Datasheets associated with a Library, Project, or Scenario</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span><span class="op">)</span></code></pre></div>
<pre><code>##      scope                                  name     displayName
## 1 scenario  helloworldUncertainty_InputDatasheet  InputDatasheet
## 2 scenario helloworldUncertainty_OutputDatasheet OutputDatasheet
## 3 scenario      helloworldUncertainty_RunControl     Run Control</code></pre>
<p>From the list of Datasheets above, we can see that there are three Datasheets specific to the <code>helloworldUncertainty</code> package. Let’s view the contents of the input Datasheet as an R data frame.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View the contents of the input Datasheet for the Scenario</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, name <span class="op">=</span> <span class="st">"helloworldUncertainty_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] mMean mSD   b    
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
<div id="configure-model-inputs-using-datasheet-and-addrow" class="section level3">
<h3 class="hasAnchor">
<a href="#configure-model-inputs-using-datasheet-and-addrow" class="anchor"></a>Configure model inputs using <code>datasheet()</code> and <code>addRow()</code>
</h3>
<p><strong>Input Datasheet</strong></p>
<p>Currently our input Scenario Datasheet is empty! We need to add some values to our input Datasheet (<code>InputDatasheet</code>) so we can run our model. First, assign the contents of the input Datasheet to a new data frame variable using <code><a href="../reference/datasheet.html">datasheet()</a></code>, then check the columns that need input values.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load the input Datasheet to an R data frame</span>
<span class="va">myInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>,
                              name <span class="op">=</span> <span class="st">"helloworldUncertainty_InputDatasheet"</span><span class="op">)</span>

<span class="co"># Check the columns of the input data frame</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">myInputDataframe</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    0 obs. of  3 variables:
##  $ mMean: num 
##  $ mSD  : num 
##  $ b    : num</code></pre>
<p>The input Datasheet requires three values:</p>
<ul>
<li>
<code>mMean</code> : the mean of the slope normal distribution.</li>
<li>
<code>mSD</code> : the standard deviation of the slope normal distribution.</li>
<li>
<code>b</code> : the intercept of the linear equation.</li>
</ul>
<p>Add these values to a new data frame, then use the <code><a href="../reference/addRow.html">addRow()</a></code> function from <code>rsyncrosim</code> to update the input data frame.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create input data and add it to the input data frame</span>
<span class="va">myInputRow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>mMean <span class="op">=</span> <span class="fl">2</span>, mSD <span class="op">=</span> <span class="fl">4</span>, b <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="va">myInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">myInputDataframe</span>, <span class="va">myInputRow</span><span class="op">)</span>

<span class="co"># Check values</span>
<span class="va">myInputDataframe</span></code></pre></div>
<pre><code>##   mMean mSD b
## 1     2   4 3</code></pre>
<p>Finally, save the updated R data frame to a SyncroSim Datasheet using <code><a href="../reference/saveDatasheet.html">saveDatasheet()</a></code>.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save input R data frame to a SyncroSim Datasheet</span>
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myScenario</span>, data <span class="op">=</span> <span class="va">myInputDataframe</span>,
              name <span class="op">=</span> <span class="st">"helloworldUncertainty_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;helloworldUncertainty_InputDatasheet&gt; saved</code></pre>
<p><strong>RunControl Datasheet</strong></p>
<p>The <code>RunControl</code> Datasheet provides information about how many time steps and iterations to use in the model. Here, we set the <em>number of iterations</em>, as well as the minimum and maximum time steps for our model. The number of iterations we set is equivalent to the number of Monte Carlo realizations, so the greater the number of iterations, the more accurate the range of output values we will obtain. Let’s take a look at the columns that need input values.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load RunControl Datasheet to a new R data frame</span>
<span class="va">runSettings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, name <span class="op">=</span> <span class="st">"helloworldUncertainty_RunControl"</span><span class="op">)</span>

<span class="co"># Check the columns of the RunControl data frame</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">runSettings</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    0 obs. of  4 variables:
##  $ MinimumIteration: num 
##  $ MaximumIteration: num 
##  $ MinimumTimestep : num 
##  $ MaximumTimestep : num</code></pre>
<p>The RunControl Datasheet requires the following 4 columns:</p>
<ul>
<li>
<code>MinimumIteration</code> : starting value of iterations (default=1).</li>
<li>
<code>MaximumIteration</code> : total number of iterations to run the model for.</li>
<li>
<code>MinimumTimestep</code> : the starting time point of the simulation.</li>
<li>
<code>MaximumTimestep</code> : the end time point of the simulation.</li>
</ul>
<p>We’ll add this information to an R data frame and then add it to the Run Control data frame using <code><a href="../reference/addRow.html">addRow()</a></code>. For this example, we will use only five iterations.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create run control data and add it to the run control data frame</span>
<span class="va">runSettingsRow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>MinimumIteration <span class="op">=</span> <span class="fl">1</span>,
                             MaximumIteration <span class="op">=</span> <span class="fl">5</span>,
                             MinimumTimestep <span class="op">=</span> <span class="fl">1</span>,
                             MaximumTimestep <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="va">runSettings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">runSettings</span>, <span class="va">runSettingsRow</span><span class="op">)</span>

<span class="co"># Check values</span>
<span class="va">runSettings</span></code></pre></div>
<pre><code>##   MinimumIteration MaximumIteration MinimumTimestep MaximumTimestep
## 1                1                5               1              10</code></pre>
<p>Finally, save the R data frame to a SyncroSim Datasheet using <code><a href="../reference/saveDatasheet.html">saveDatasheet()</a></code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save RunControl R data frame to a SyncroSim Datasheet</span>
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myScenario</span>, data <span class="op">=</span> <span class="va">runSettings</span>,
              name <span class="op">=</span> <span class="st">"helloworldUncertainty_RunControl"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;helloworldUncertainty_RunControl&gt; saved</code></pre>
</div>
</div>
<div id="run-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#run-scenarios" class="anchor"></a>Run Scenarios</h2>
<div id="setting-run-parameters-with-run" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-run-parameters-with-run" class="anchor"></a>Setting run parameters with <code>run()</code>
</h3>
<p>We will now run our Scenario using the <code><a href="../reference/run.html">run()</a></code> function in <code>rsyncrosim</code>. If we have a large model and we want to parallelize the run using multiprocessing, we can set the <code>jobs</code> argument to be a value greater than one. Since we are using five iterations in our model, we will set the number of jobs to five so each multiprocessing core will run a single iteration.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Run the first Scenario we created</span>
<span class="va">myResultScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run.html">run</a></span><span class="op">(</span><span class="va">myScenario</span>, jobs <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Running scenario [1] My first scenario"</code></pre>
<p>Running the original Scenario creates a new Scenario object, known as a Results Scenario, that contains a read-only snapshot of the input Datasheets, as well as the output Datasheets filled with result data. We can view which Scenarios are Results Scenarios using the <code><a href="../reference/scenario.html">scenario()</a></code> function from <code>rsyncrosim</code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check that we have two Scenarios, and one is a Results Scenario</span>
<span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span></code></pre></div>
<pre><code>##   scenarioId projectId                                          name isResult
## 1          1         1                             My first scenario       No
## 2          2         1 My first scenario ([1] @ 07-Sep-2021 1:35 PM)      Yes
##   parentID owner          lastModified readOnly mergeDependencies
## 1       NA   N/A 2021-09-07 at 1:35 PM       No                No
## 2        1   N/A 2021-09-07 at 1:35 PM       No                No
##   ignoreDependencies autoGenTags
## 1                 NA          NA
## 2                 NA          NA</code></pre>
</div>
</div>
<div id="view-results" class="section level2">
<h2 class="hasAnchor">
<a href="#view-results" class="anchor"></a>View results</h2>
<div id="viewing-results-with-datasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-results-with-datasheet" class="anchor"></a>Viewing results with <code>datasheet()</code>
</h3>
<p>The next step is to view the output Datasheets added to the Result Scenario when it was run. We can load the result tables using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function. In this package, the Datasheet containing the results is called “OutputDatasheet”.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Results of first Scenario</span>
<span class="va">resultsSummary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myResultScenario</span>,
                            name <span class="op">=</span> <span class="st">"helloworldUncertainty_OutputDatasheet"</span><span class="op">)</span>

<span class="co"># View results table</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">resultsSummary</span><span class="op">)</span></code></pre></div>
<pre><code>##   Iteration Timestep      y
## 1         1        1 4.0171
## 2         1        2 5.0342
## 3         1        3 6.0513
## 4         1        4 7.0684
## 5         1        5 8.0855
## 6         1        6 9.1026</code></pre>
</div>
<div id="plotting-uncertainty-in-the-syncrosim-windows-user-interface" class="section level3">
<h3 class="hasAnchor">
<a href="#plotting-uncertainty-in-the-syncrosim-windows-user-interface" class="anchor"></a>Plotting uncertainty in the SyncroSim Windows User Interface</h3>
<p>Now that we have run multiple iterations, we can visualize the uncertainty in our results. For this plot, we will plot the average <em>y</em> values over time, while showing the 20th and 80th percentiles.</p>
<p>To create a plot using the Results Scenario we just generated, open the current Library in the User Interface and sync the updates from <code>rsyncrosim</code> using the “refresh” button in the upper toolbar. All the updates made in <code>rsyncrosim</code> should appear in the User Interface. We can now add the Results Scenario to the Results Viewer and create our plot. For more information on generating plots in the User Interface, see the SyncroSim tutorials on <a href="http://docs.syncrosim.com/how_to_guides/results_chart_create.html" target="_blank">creating</a> and <a href="http://docs.syncrosim.com/how_to_guides/results_chart_customize.html" target="_blank">customizing</a> charts.</p>
<div class="figure">
<img src="rsyncrosim-with-UI-uncertainty.png" width="600" alt=""><p class="caption">Using <code>rsyncrosim</code> with the SyncroSim Windows User Interface to plot uncertainty</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Colin Daniel, Josie Hughes, Valentin Lucet, Alex Embrey, Katie Birchard, Leonardo Frid, Tabitha Kennedy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
