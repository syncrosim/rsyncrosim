<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to `rsyncrosim` • rsyncrosim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to `rsyncrosim`">
<meta property="og:description" content="rsyncrosim">
<meta property="og:image" content="https://syncrosim.github.io/rsyncrosim/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rsyncrosim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rsyncrosim_install_beta.html">Installing beta release</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_stsim_vignette.html">Introduction to `ST-Sim` in `rsyncrosim`</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_basic.html">Introduction to `rsyncrosim`</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_pipelines.html">`rsyncrosim`: introduction to pipelines</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_spatial.html">`rsyncrosim`: introduction to spatial data</a>
    </li>
    <li>
      <a href="../articles/rsyncrosim_vignette_uncertainty.html">`rsyncrosim`: introduction to uncertainty</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/syncrosim/rsyncrosim/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rsyncrosim_vignette_basic_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to <code>rsyncrosim</code>
</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/syncrosim/rsyncrosim/blob/master/vignettes/rsyncrosim_vignette_basic.Rmd"><code>vignettes/rsyncrosim_vignette_basic.Rmd</code></a></small>
      <div class="hidden name"><code>rsyncrosim_vignette_basic.Rmd</code></div>

    </div>

    
    
<p>This vignette will cover the basics of using the <code>rsyncrosim</code> package within the <a href="https://syncrosim.com/" target="_blank">SyncroSim</a> software framework.</p>
<div id="overview-of-syncrosim" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-syncrosim" class="anchor"></a>Overview of SyncroSim</h2>
<p><a href="https://syncrosim.com/" target="_blank">SyncroSim</a> is a software platform that helps you turn your <em>data</em> into <em>forecasts</em>. At the core of SyncroSim is an engine that automatically structures your existing data, regardless of its original format. SyncroSim transforms this structured data into forecasts by running it through a Pipeline of calculations (i.e. a suite of <em>models</em>). Finally, SyncroSim provides a rich interface to interact with your data and models, allowing you to explore and track the consequences of alternative “what-if” forecasting Scenarios. Within this software framework is the ability to use and create <a href="https://docs.syncrosim.com/how_to_guides/package_overview.html" target="_blank">SyncroSim packages</a>.</p>
<p>For more details consult the SyncroSim <a href="https://docs.syncrosim.com/" target="_blank">online documentation</a>.</p>
</div>
<div id="overview-of-rsyncrosim" class="section level2">
<h2 class="hasAnchor">
<a href="#overview-of-rsyncrosim" class="anchor"></a>Overview of rsyncrosim</h2>
<p><code>rsyncrosim</code> is an R package designed to facilitate the development of modeling workflows for the <a href="https://syncrosim.com/" target="_blank">SyncroSim</a> software framework. Using the <code>rsyncrosim</code> interface, simulation models can be added and run through SyncroSim to transform Scenario-based datasets into model forecasts. This R package takes advantage of general features of SyncroSim, such as defining Scenarios with spatial or non-spatial inputs, running Monte Carlo simulations, and summarizing model outputs. <code>rsyncrosim</code> requires SyncroSim 2.2.13 or higher.</p>
<p>For more details consult the <code>rsyncrosim</code> <a href="https://cran.r-project.org/web/packages/rsyncrosim/index.html" target="_blank">CRAN documentation</a>.</p>
</div>
<div id="syncrosim-package-helloworldtime" class="section level2">
<h2 class="hasAnchor">
<a href="#syncrosim-package-helloworldtime" class="anchor"></a>SyncroSim Package: <code>helloworldTime</code>
</h2>
<p>To demonstrate the utility of the <code>rsyncrosim</code> interface, we will be using the <a href="https://github.com/ApexRMS/helloworldTime" target="_blank">helloworldTime</a> SyncroSim package. <code>helloworldTime</code> was designed to be a simple package to introduce timesteps to SyncroSim modeling workflows.</p>
<p>The package takes from the user 2 inputs, <em>m</em> and <em>b</em>, representing a slope and an intercept value. It then runs these input values through a linear model, <em>y=mt+b</em>, where <em>t</em> is <em>time</em>, and returns the <em>y</em> value as output.</p>
<div class="figure">
<img src="infographic-basic.png" width="600" alt=""><p class="caption">Infographic of helloworldTime package</p>
</div>
<p>For more details on the different features of the <code>helloworldTime</code> SyncroSim package, consult the SyncroSim <a href="https://docs.syncrosim.com/how_to_guides/package_create_timesteps.html" target="_blank">Enhancing a Package: Adding Timesteps</a> tutorial.</p>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<div id="install-syncrosim" class="section level3">
<h3 class="hasAnchor">
<a href="#install-syncrosim" class="anchor"></a>Install SyncroSim</h3>
<p>Before using <code>rsyncrosim</code> you will first need to <a href="https://syncrosim.com/download/" target="_blank">download and install</a> the SyncroSim software. Versions of SyncroSim exist for both Windows and Linux.</p>
</div>
<div id="installing-and-loading-r-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-and-loading-r-packages" class="anchor"></a>Installing and loading R packages</h3>
<p>You will need to install the <code>rsyncrosim</code> R package, either using <a href="https://cran.r-project.org/" target="_blank">CRAN</a> or from the <code>rsyncrosim</code> <a href="https://github.com/syncrosim/rsyncrosim/releases/" target="_blank">GitHub repository</a>. Versions of <code>rsyncrosim</code> are available for both Windows and Linux.</p>
<p>In a new R script, load the <code>rsyncrosim</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load R package for working with SyncroSim</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://syncrosim.github.io/rsyncrosim">rsyncrosim</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="installing-syncrosim-packages-using-installPackage" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-syncrosim-packages-using-installPackage" class="anchor"></a>Installing SyncroSim packages using <code>installPackage()</code>
</h3>
<p>Check if the <a href="https://github.com/ApexRMS/helloworldTime" target="_blank">helloworldTime</a> package is already installed. Use the <code><a href="../reference/package.html">package()</a></code> function from <code>rsyncrosim</code> to first get a list of all currently installed packages in SyncroSim.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get list of installed packages</span>
<span class="fu"><a href="../reference/package.html">package</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] name        displayName version    
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<p>Currently we do not have any packages installed! To see which packages are available from the SyncroSim package server, you can use the <code>installed = FALSE</code> argument in the <code><a href="../reference/package.html">package()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">availablePackages</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/package.html">package</a></span><span class="op">(</span>installed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">availablePackages</span><span class="op">)</span></code></pre></div>
<pre><code>##            name
## 1     demosales
## 2         dgsim
## 3           epi
## 4     epiDataBc
## 5 epiDataCanada
## 6  epiDataWorld
##                                                               description
## 1 Example SyncroSim Base Package of a very simple sales forecasting model
## 2                          Simulates demographics of wildlife populations
## 3                                                   Epidemic Base Package
## 4                                                        BC COVID-19 Data
## 5                                                  Canadian COVID-19 Data
## 6                                                     World COVID-19 Data
##   version
## 1   1.1.0
## 2   2.3.0
## 3   1.1.0
## 4   1.0.0
## 5   1.0.0
## 6   1.0.0</code></pre>
<p>Install <code>helloworldTime</code> using the <code>rynscrosim</code> function <code><a href="../reference/installPackage.html">installPackage()</a></code>. This function takes a package name as input and then queries the SyncroSim package server for the specified package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install helloworldTime</span>
<span class="fu"><a href="../reference/installPackage.html">installPackage</a></span><span class="op">(</span><span class="st">"helloworldTime"</span><span class="op">)</span></code></pre></div>
<pre><code>## Package &lt;helloworldTime&gt; installed</code></pre>
<p>To install the package from a <code>.ssimpkg</code> file on your local computer rather than installing directly from the server, you can use the <code><a href="../reference/installPackage.html">installPackage()</a></code> function with the <code>filepath</code> argument set to <code>TRUE</code>. Instead of using the package name as the argument, the file path to the <code>.ssimpkg</code> is used.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install helloworldTime using file path to ssimpkg file</span>
<span class="fu"><a href="../reference/installPackage.html">installPackage</a></span><span class="op">(</span><span class="st">"path/to/helloworldTime.ssimpkg"</span><span class="op">)</span></code></pre></div>
<p>Now <code>helloworldTime</code> should be included in the package list:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get list of installed packages</span>
<span class="fu"><a href="../reference/package.html">package</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>##             name                                description version
## 1 helloworldTime Example demonstrating how to use timesteps   1.0.0</code></pre>
<p><em>Note:</em> you can also update installed packages using the <code><a href="../reference/updatePackage.html">updatePackage()</a></code> function or delete installed packages using the <code><a href="../reference/uninstallPackage.html">uninstallPackage()</a></code> function in <code>rsyncrosim</code>.</p>
</div>
<div id="connecting-r-to-syncrosim-using-session" class="section level3">
<h3 class="hasAnchor">
<a href="#connecting-r-to-syncrosim-using-session" class="anchor"></a>Connecting R to SyncroSim using <code>session()</code>
</h3>
<p>The final step in setting up the R environment for the <code>rsyncrosim</code> workflow is to create a SyncroSim Session object in R that provides the connection to your installed copy of the SyncroSim software. A new Session is created using the <code><a href="../reference/session.html">session()</a></code> function, in which the first argument is a path to the folder on your computer where SyncroSim has been installed. If the first argument is left blank, then the default install folder is used (Windows only).</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="st">"path/to/install_folder"</span><span class="op">)</span>      <span class="co"># Create a Session based SyncroSim install folder</span>
<span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="op">)</span>                              <span class="co"># Using default install folder (Windows only)</span>
<span class="va">mySession</span>                                           <span class="co"># Displays the Session object</span></code></pre></div>
<pre><code>## class               : Session
## filepath [character]: C:/Program Files/SyncroSim
## silent [logical]    : TRUE
## printCmd [logical]  : FALSE</code></pre>
<p>You can check to see which version of SyncroSim your R script is connected to by running the <code><a href="../reference/version.html">version()</a></code> function.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/version.html">version</a></span><span class="op">(</span><span class="va">mySession</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "2.3.3"</code></pre>
</div>
</div>
<div id="create-a-modeling-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-modeling-workflow" class="anchor"></a>Create a modeling workflow</h2>
<p>When creating a new modeling workflow from scratch, we need to create objects of the following scopes:</p>
<ul>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Library</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Projects</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Scenarios</a></li>
</ul>
<p>These objects are hierarchical, such that a Library can contain many Projects, and each Project can contain many Scenarios. All parameters or configurations set in a Library are inherited by all Projects within the Library, and all parameters or configurations set in a Project are inherited by all Scenarios within that Project. See below for further information on these SyncroSim objects.</p>
<div id="create-a-new-library-using-ssimlibrary" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-new-library-using-ssimlibrary" class="anchor"></a>Create a new Library using <code>ssimLibrary()</code>
</h3>
<p>A SyncroSim <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Library</a> is a file (with <code>.ssim</code> extension) that stores all of your model inputs and outputs. The format of each SyncroSim Library is unique to the SyncroSim Package with which it is associated. We use the <code><a href="../reference/ssimLibrary.html">ssimLibrary()</a></code> function to create a new SsimLibrary object in R that is connected (through your Session) to a SyncroSim Library file.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a new Library</span>
<span class="va">myLibrary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ssimLibrary.html">ssimLibrary</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"helloworldLibrary.ssim"</span>,
                         session <span class="op">=</span> <span class="va">mySession</span>,
                         package <span class="op">=</span> <span class="st">"helloworldTime"</span><span class="op">)</span>

<span class="co"># Check Library information</span>
<span class="va">myLibrary</span></code></pre></div>
<pre><code>## class                      : SsimLibrary
## session [Session]          : C:/Program Files/SyncroSim, printCmd=FALSE
## filepath [character]       : path/to/helloworldLibrary.ssim
## datasheetNames [data.frame]: scope,package,name,displayName,isSingle,isOutput</code></pre>
<p>We can also use the <code><a href="../reference/ssimLibrary.html">ssimLibrary()</a></code> function to open an existing Library. For instance, now that we have created a Library called “helloworldLibrary.ssim”, we would simply specify that we want to open this Library using the <code>name</code> argument. Note that if you want to create a new Library file with an existing Library name rather than opening the existing Library, you can use <code>overwrite=TRUE</code> for the <code><a href="../reference/ssimLibrary.html">ssimLibrary()</a></code> function.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Open existing Library</span>
<span class="va">myLibrary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ssimLibrary.html">ssimLibrary</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"helloworldLibrary.ssim"</span><span class="op">)</span></code></pre></div>
<p>Note that if you want to create a new Library file with an existing Library name rather than opening the existing Library, you can use <code>overwrite=TRUE</code> for the <code><a href="../reference/ssimLibrary.html">ssimLibrary()</a></code> function.</p>
</div>
<div id="open-a-project-using-project" class="section level3">
<h3 class="hasAnchor">
<a href="#open-a-project-using-project" class="anchor"></a>Open a Project using <code>project()</code>
</h3>
<p>Each SyncroSim Library contains one or more SyncroSim <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Projects</a>, each represented by a Project object in R. Projects typically store model inputs that are common to all your Scenarios. In most situations you will need only a single Project for your Library; by default each new Library starts with a single Project named “Definitions” (with a unique <code>projectId</code>= 1). The <code><a href="../reference/project.html">project()</a></code> function is used to both create and retrieve Projects. Note that the <code>ssimObject</code> here can be the name of a Library or Scenario.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Open existing Project</span>
<span class="va">myProject</span> <span class="op">=</span> <span class="fu"><a href="../reference/project.html">project</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myLibrary</span>, project <span class="op">=</span> <span class="st">"Definitions"</span><span class="op">)</span>  <span class="co"># Using name for Project</span>
<span class="va">myProject</span> <span class="op">=</span> <span class="fu"><a href="../reference/project.html">project</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myLibrary</span>, project <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>              <span class="co"># Using projectId for Project</span>

<span class="co"># Check Project information</span>
<span class="va">myProject</span></code></pre></div>
<pre><code>## class                      : Project
## projectId [numeric]        : 1
## session [Session]          : C:/Program Files/SyncroSim, printCmd=FALSE
## filepath [character]       : path/to/helloworldLibrary.ssim
## datasheetNames [data.frame]: scope,package,name,displayName,isSingle,isOutput</code></pre>
</div>
<div id="create-a-new-scenario-using-scenario" class="section level3">
<h3 class="hasAnchor">
<a href="#create-a-new-scenario-using-scenario" class="anchor"></a>Create a new Scenario using <code>scenario()</code>
</h3>
<p>Finally, each SyncroSim Project contains one or more <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Scenarios</a>, each represented by a Scenario object in R.</p>
<p>Scenarios store the specific inputs and outputs associated with each Transformer in SyncroSim. SyncroSim models can be broken down into one or more of these Transformers. Each Transformer essentially runs a series of calculations on the input data to <em>transform</em> it into the output data. Scenarios can contain multiple Transformers connected by a series of Pipelines, such that the output of one Transformer becomes the input of the next.</p>
<p>Each Scenario can be identified by its unique <code>scenarioId</code>. The <code><a href="../reference/scenario.html">scenario()</a></code> function is used to both create and retrieve Scenarios. Note that the <code>ssimObject</code> here can be the name of a Library or a Project.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a new Scenario (associated with the default Project)</span>
<span class="va">myScenario</span> <span class="op">=</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myProject</span>, scenario <span class="op">=</span> <span class="st">"My first scenario"</span><span class="op">)</span>

<span class="co"># Check Scenario information</span>
<span class="va">myScenario</span></code></pre></div>
<pre><code>## class                      : Scenario
## projectId [numeric]        : 1
## scenarioId [numeric]       : 1
## parentId [numeric]         : 0
## breakpoints [list]         : 
## session [Session]          : C:/Program Files/SyncroSim, printCmd=FALSE
## filepath [character]       : path/to/helloworldLibrary.ssim
## datasheetNames [data.frame]: scope,package,name,displayName,isSingle,isOutput</code></pre>
</div>
<div id="view-model-inputs-using-datasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#view-model-inputs-using-datasheet" class="anchor"></a>View model inputs using <code>datasheet()</code>
</h3>
<p>Each SyncroSim Library contains multiple SyncroSim <a href="https://docs.syncrosim.com/how_to_guides/properties_overview.html" target="_blank">Datasheets</a>. A SyncroSim Datasheet is simply a table of data stored in the Library, and they represent the input and output data for Transformers. Datasheets each have a <em>scope</em>: either <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Library</a>, <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Project</a>, or <a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank">Scenario</a>. Datasheets with a Library scope represent data that is specified only once for the entire Library, such as the location of the backup folder. Datasheets with a Project scope represent data that are shared over all Scenarios within a Project. Datasheets with a Scenario scope represent data that must be specified for each generated Scenario. We can view Datasheets of varying scopes using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function from <code>rsyncrosim</code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View all Datasheets associated with a Library, Project, or Scenario</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span><span class="op">)</span></code></pre></div>
<pre><code>##      scope                           name     displayName
## 1 scenario  helloworldTime_InputDatasheet  InputDatasheet
## 2 scenario helloworldTime_OutputDatasheet OutputDatasheet
## 3 scenario      helloworldTime_RunControl     Run Control</code></pre>
<p>If we want to see more information about each Datasheet, such as the scope of the Datasheet or if it only accepts a single row of data, we can set the <code>optional</code> argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, optional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##      scope        package                           name     displayName
## 1 scenario helloworldTime  helloworldTime_InputDatasheet  InputDatasheet
## 2 scenario helloworldTime helloworldTime_OutputDatasheet OutputDatasheet
## 3 scenario helloworldTime      helloworldTime_RunControl     Run Control
##   isSingle isOutput  data scenario
## 1     TRUE    FALSE FALSE        1
## 2    FALSE    FALSE FALSE        1
## 3     TRUE    FALSE FALSE        1</code></pre>
<p>From this output we can see the the <code>RunControl</code> Datasheet and <code>InputDatasheet</code> only accept a single row of data (i.e. <code>isSingle = TRUE</code>). This is something to consider when we configure our model inputs.</p>
<p>To view a specific Datasheet rather than just a data frame of available Datasheets, set the <code>name</code> parameter in the <code><a href="../reference/datasheet.html">datasheet()</a></code> function to the name of the Datasheet you want to view. The general syntax of the name is: "&lt;name of package&gt;_&lt;name of Datasheet&gt;". From the list of Datasheets above, we can see that there are 3 Datasheets specific to the <code>helloworldTime</code> package.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View the input Datasheet for the Scenario</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, name <span class="op">=</span> <span class="st">"helloworldTime_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] m b
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<p>Here, we are viewing the contents of a SyncroSim Datasheet as an R data frame. Although both SyncroSim Datasheets and R data frames are both represented as tables of data with predefined columns and an unlimited number of rows, the underlying structure of these tables differ.</p>
</div>
<div id="configure-model-inputs-using-datasheet-and-addrow" class="section level3">
<h3 class="hasAnchor">
<a href="#configure-model-inputs-using-datasheet-and-addrow" class="anchor"></a>Configure model inputs using <code>datasheet()</code> and <code>addRow()</code>
</h3>
<p>Currently our input Scenario Datasheets are empty! We need to add some values to our input Datasheet (<code>InputDatasheet</code>) so we can run our model. First, assign the input Datasheet to a new data frame variable.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Assign contents of the input Datasheet to an R data frame</span>
<span class="va">myInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>,
                              name <span class="op">=</span> <span class="st">"helloworldTime_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<p>Now, check the columns that need input values and the type of values these columns require (e.g. string, numeric, logical) using the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> base R function.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check the columns of the input data frame</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">myInputDataframe</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    0 obs. of  2 variables:
##  $ m: num 
##  $ b: num</code></pre>
<p>The input Datasheet requires 2 values:</p>
<ul>
<li>
<code>m</code> : the slope of the linear equation.</li>
<li>
<code>b</code> : the intercept of the linear equation.</li>
</ul>
<p>Now we will update the input data frame. This can be done in many ways (e.g. using the <code>dplyr</code> package), but <code>rsyncrosim</code> also provides a helper function called <code><a href="../reference/addRow.html">addRow()</a></code> for easily adding new rows to R data frames. The <code><a href="../reference/addRow.html">addRow()</a></code> function takes the <code>targetDataframe</code> as the first value (in this case, our input data frame that we want to update), and the data frame of new rows to append to the input data frame as the second value.</p>
<p>Note that in the previous section we discovered that the input Datasheets only accept a single row of values, so we can only have one value each for our slope (<em>m</em>) and intercept (<em>b</em>).</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create input data and add it to the input data frame</span>
<span class="va">myInputRow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>m <span class="op">=</span> <span class="fl">3</span>, b <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="va">myInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">myInputDataframe</span>, <span class="va">myInputRow</span><span class="op">)</span>

<span class="co"># Check values</span>
<span class="va">myInputDataframe</span></code></pre></div>
<pre><code>##   m  b
## 1 3 10</code></pre>
</div>
<div id="saving-modifications-to-datasheets-using-savedatasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#saving-modifications-to-datasheets-using-savedatasheet" class="anchor"></a>Saving modifications to Datasheets using <code>saveDatasheet()</code>
</h3>
<p>Now that we have a complete data frame of input values, we will save this data frame to a SyncroSim Datasheet using the <code><a href="../reference/saveDatasheet.html">saveDatasheet()</a></code> function. We can save our Datasheet at the Library, Project, or Scenario level, but in this case we will save it at the Scenario level.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save input R data frame to a SyncroSim Datasheet</span>
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myScenario</span>, data <span class="op">=</span> <span class="va">myInputDataframe</span>,
              name <span class="op">=</span> <span class="st">"helloworldTime_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;helloworldTime_InputDatasheet&gt; saved</code></pre>
</div>
<div id="configuring-the-runcontrol-datasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#configuring-the-runcontrol-datasheet" class="anchor"></a>Configuring the <code>RunControl</code> Datasheet</h3>
<p>There is one other Datasheet that we need to configure for our package to run. The <code>RunControl</code> Datasheet provides information about how many time steps to use in the model. Here, we set the minimum and maximum time steps for our model. We’ll add this information to an R data frame and then add it to the Run Control Datasheet using <code><a href="../reference/addRow.html">addRow()</a></code>. We need to specify data for the following 2 columns:</p>
<ul>
<li>
<code>MinimumTimestep</code> : the starting time point of the simulation.</li>
<li>
<code>MaximumTimestep</code> : the end time point of the simulation.</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Assign contents of the run control Datasheet to an R data frame</span>
<span class="va">runSettings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, name <span class="op">=</span> <span class="st">"helloworldTime_RunControl"</span><span class="op">)</span>

<span class="co"># Check the columns of the run control data frame</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">runSettings</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    0 obs. of  2 variables:
##  $ MinimumTimestep: num 
##  $ MaximumTimestep: num</code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create run control data and add it to the run control data frame</span>
<span class="va">runSettingsRow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>MinimumTimestep <span class="op">=</span> <span class="fl">1</span>,
                             MaximumTimestep <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="va">runSettings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">runSettings</span>, <span class="va">runSettingsRow</span><span class="op">)</span>

<span class="co"># Check values</span>
<span class="va">runSettings</span></code></pre></div>
<pre><code>##   MinimumTimestep MaximumTimestep
## 1               1              10</code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save run control R data frame to a SyncroSim Datasheet</span>
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myScenario</span>, data <span class="op">=</span> <span class="va">runSettings</span>,
              name <span class="op">=</span> <span class="st">"helloworldTime_RunControl"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;helloworldTime_RunControl&gt; saved</code></pre>
</div>
</div>
<div id="run-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#run-scenarios" class="anchor"></a>Run Scenarios</h2>
<div id="setting-run-parameters-with-run" class="section level3">
<h3 class="hasAnchor">
<a href="#setting-run-parameters-with-run" class="anchor"></a>Setting run parameters with <code>run()</code>
</h3>
<p>We will now run our Scenarios using the <code><a href="../reference/run.html">run()</a></code> function in <code>rsyncrosim</code>, starting with the first Scenario we created (“My first scenario”).</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Run the first Scenario we created</span>
<span class="va">myResultScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run.html">run</a></span><span class="op">(</span><span class="va">myScenario</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Running scenario [1] My first scenario"</code></pre>
</div>
<div id="checking-the-run-log-with-runlog" class="section level3">
<h3 class="hasAnchor">
<a href="#checking-the-run-log-with-runlog" class="anchor"></a>Checking the run log with <code>runLog()</code>
</h3>
<p>For more information use the <code><a href="../reference/runLog.html">runLog()</a></code> function, in which the only argument is the result Scenario variable.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get run details for the first result Scenario</span>
<span class="fu"><a href="../reference/runLog.html">runLog</a></span><span class="op">(</span><span class="va">myResultScenario</span><span class="op">)</span></code></pre></div>
<pre><code>## Run Log                                                                                                                                                                                                                                                                                            
## STARTING SIMULATION: 2021-09-07 : 1:32:54 PM
## 
## Parent Scenario is: [1] My first scenario
## Result scenario is: [2] My first scenario ([1] @ 07-Sep-2021 1:32 PM)
## 
## CONFIGURING: Primary
## 
## RUNNING: Primary
## 
## SIMULATION COMPLETE: 2021-09-07 : 1:33:02 PM
## Total simulation time: 00:00:07</code></pre>
<pre><code>## [1] "Run Log                                                                                                                                                                                                                                                                                            \nSTARTING SIMULATION: 2021-09-07 : 1:32:54 PM\n\nParent Scenario is: [1] My first scenario\nResult scenario is: [2] My first scenario ([1] @ 07-Sep-2021 1:32 PM)\n\nCONFIGURING: Primary\n\nRUNNING: Primary\n\nSIMULATION COMPLETE: 2021-09-07 : 1:33:02 PM\nTotal simulation time: 00:00:07      "</code></pre>
</div>
</div>
<div id="view-results" class="section level2">
<h2 class="hasAnchor">
<a href="#view-results" class="anchor"></a>View results</h2>
<div id="results-scenarios" class="section level3">
<h3 class="hasAnchor">
<a href="#results-scenarios" class="anchor"></a>Results Scenarios</h3>
<p>A Results Scenario is generated when a Scenario is run, and is an exact copy of the original Scenario (i.e. it contains the original Scenario’s values for all input Datasheets). The Results Scenario is passed to the Transformer in order to generate model output, with the results of the Transformer’s calculations then being added to the Results Scenario as output Datsheets. In this way the Results Scenario contains both the output of the run and a snapshot record of all the model inputs.</p>
<p>Check out the current Scenarios in your Library using the <code><a href="../reference/scenario.html">scenario()</a></code> function.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check Scenarios that currently exist in your Library</span>
<span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span></code></pre></div>
<pre><code>##   scenarioId projectId                                          name isResult
## 1          1         1                             My first scenario       No
## 2          2         1 My first scenario ([1] @ 07-Sep-2021 1:32 PM)      Yes
##   parentID owner          lastModified readOnly mergeDependencies
## 1       NA   N/A 2021-09-07 at 1:32 PM       No                No
## 2        1   N/A 2021-09-07 at 1:33 PM       No                No
##   ignoreDependencies autoGenTags
## 1                 NA          NA
## 2                 NA          NA</code></pre>
<p>The first Scenario is our original Scenario, and the second is the Results Scenario with a time and date stamp of when it was run. We can also see some other information about these Scenarios, such as whether or not the Scenario is a result or not (i.e. <code>isResult</code> column).</p>
<p>We can also look at how the Datasheets differ between the Results Scenario and the original Scenario using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Take a look at original Scenario Datasheets</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, optional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##      scope        package                           name     displayName
## 1 scenario helloworldTime  helloworldTime_InputDatasheet  InputDatasheet
## 2 scenario helloworldTime helloworldTime_OutputDatasheet OutputDatasheet
## 3 scenario helloworldTime      helloworldTime_RunControl     Run Control
##   isSingle isOutput  data scenario
## 1     TRUE    FALSE  TRUE        1
## 2    FALSE    FALSE FALSE        1
## 3     TRUE    FALSE  TRUE        1</code></pre>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Take a look at Results Scenario Datasheets</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myResultScenario</span>, optional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<pre><code>##      scope        package                           name     displayName
## 1 scenario helloworldTime  helloworldTime_InputDatasheet  InputDatasheet
## 2 scenario helloworldTime helloworldTime_OutputDatasheet OutputDatasheet
## 3 scenario helloworldTime      helloworldTime_RunControl     Run Control
##   isSingle isOutput data scenario
## 1     TRUE    FALSE TRUE        1
## 2    FALSE    FALSE TRUE        1
## 3     TRUE    FALSE TRUE        1</code></pre>
<p>Looking at the <code>data</code> column, the <code>OutputDatasheet</code> does not contain any data in the original Scenario, but does in the Results Scenario.</p>
</div>
<div id="viewing-results-with-datasheet" class="section level3">
<h3 class="hasAnchor">
<a href="#viewing-results-with-datasheet" class="anchor"></a>Viewing results with <code>datasheet()</code>
</h3>
<p>The next step is to view the output Datasheets added to the Result Scenario when it was run. We can load the result tables using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function, and setting the <code>name</code> parameter to the Datasheet with new data added.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Results of first Scenario</span>
<span class="va">resultsSummary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myResultScenario</span>,
                            name <span class="op">=</span> <span class="st">"helloworldTime_OutputDatasheet"</span><span class="op">)</span>

<span class="co"># View results table</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html">head</a></span><span class="op">(</span><span class="va">resultsSummary</span><span class="op">)</span></code></pre></div>
<pre><code>##   Timestep  y
## 1        1 13
## 2        2 16
## 3        3 19
## 4        4 22
## 5        5 25
## 6        6 28</code></pre>
</div>
</div>
<div id="working-with-multiple-scenarios" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-multiple-scenarios" class="anchor"></a>Working with multiple Scenarios</h2>
<p>You may want to test multiple alternative Scenarios that have slightly different inputs. To save time, you can copy a Scenario that you’ve already made, give it a different name, and modify the inputs. To copy a completed Scenario, use the <code><a href="../reference/scenario.html">scenario()</a></code> function with the <code>sourceScenario</code> argument set to the name of the Scenario you want to copy.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check which Scenarios you currently have in your Library</span>
<span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span><span class="op">[</span><span class="st">'name'</span><span class="op">]</span></code></pre></div>
<pre><code>##                                            name
## 1                             My first scenario
## 2 My first scenario ([1] @ 07-Sep-2021 1:32 PM)</code></pre>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a new Scenario as a copy of an existing Scenario</span>
<span class="va">myNewScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myProject</span>,
                          scenario <span class="op">=</span> <span class="st">"My second scenario"</span>,
                          sourceScenario <span class="op">=</span> <span class="va">myScenario</span><span class="op">)</span>

<span class="co"># Make sure this new Scenario has been added to the Library</span>
<span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span><span class="op">[</span><span class="st">'name'</span><span class="op">]</span></code></pre></div>
<pre><code>##                                            name
## 1                             My first scenario
## 2 My first scenario ([1] @ 07-Sep-2021 1:32 PM)
## 3                            My second scenario</code></pre>
<p>To edit the new Scenario, we must first load the contents of the input Datasheet and assign it to a new R data frame using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function. We will set the <code>empty</code> argument to <code>TRUE</code> so that instead of getting the values from the existing Scenario, we can start with an empty data frame again.</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load empty input Datasheets as an R data frame</span>
<span class="va">myNewInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myNewScenario</span>,
                                 name <span class="op">=</span> <span class="st">"helloworldTime_InputDatasheet"</span>,
                                 empty<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Check that we have an empty data frame</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">myNewInputDataframe</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    0 obs. of  2 variables:
##  $ m: num 
##  $ b: num</code></pre>
<p>Now, all we need to do is add our data frame of values the same way we did before, using the <code><a href="../reference/addRow.html">addRow()</a></code> function.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create input data and add it to the input data frame</span>
<span class="va">newInputRow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>m <span class="op">=</span> <span class="fl">4</span>, b <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="va">myNewInputDataframe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">myNewInputDataframe</span>, <span class="va">newInputRow</span><span class="op">)</span>

<span class="co"># View the new inputs</span>
<span class="va">myNewInputDataframe</span></code></pre></div>
<pre><code>##   m  b
## 1 4 10</code></pre>
<p>Finally, we will save the updated data frame to a SyncroSim Datasheet using <code><a href="../reference/saveDatasheet.html">saveDatasheet()</a></code>.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save R data frame to a SyncroSim Datasheet</span>
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myNewScenario</span>, data <span class="op">=</span> <span class="va">myNewInputDataframe</span>,
              name <span class="op">=</span> <span class="st">"helloworldTime_InputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;helloworldTime_InputDatasheet&gt; saved</code></pre>
<p>We will keep the <code>RunControl</code> Datasheet the same as the first Scenario.</p>
<div id="run-scenarios-1" class="section level3">
<h3 class="hasAnchor">
<a href="#run-scenarios-1" class="anchor"></a>Run Scenarios</h3>
<p>We now have two SyncroSim Scenarios. We can run all the Scenarios in our Project at once by telling <code><a href="../reference/run.html">run()</a></code> which Project to use and including a vector of Scenarios in the <code>scenario</code> argument.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Run all Scenarios</span>
<span class="va">myResultScenarioAll</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run.html">run</a></span><span class="op">(</span><span class="va">myProject</span>,
                           scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"My first scenario"</span>,
                                        <span class="st">"My second scenario"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "Running scenario [1] My first scenario"
## [1] "Running scenario [3] My second scenario"</code></pre>
</div>
<div id="view-results-1" class="section level3">
<h3 class="hasAnchor">
<a href="#view-results-1" class="anchor"></a>View Results</h3>
<p>The output that is returned from running many Scenarios at once is actually a list of result Scenario objects. To view the results, we can still use the <code><a href="../reference/datasheet.html">datasheet()</a></code> function, we just need to index for the result Scenario object we are interested in.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myResultScenarioAll</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, name <span class="op">=</span> <span class="st">"OutputDatasheet"</span><span class="op">)</span></code></pre></div>
<pre><code>##    Timestep  y
## 1         1 14
## 2         2 18
## 3         3 22
## 4         4 26
## 5         5 30
## 6         6 34
## 7         7 38
## 8         8 42
## 9         9 46
## 10       10 50</code></pre>
</div>
<div id="identifying-the-parent-scenario-of-a-results-scenario-using-parentid" class="section level3">
<h3 class="hasAnchor">
<a href="#identifying-the-parent-scenario-of-a-results-scenario-using-parentid" class="anchor"></a>Identifying the parent Scenario of a Results Scenario using <code>parentId()</code>
</h3>
<p>If you have many alternative Scenarios and many Results Scenarios, you can always find the parent Scenario that was run in order to generate the Results Scenario using the <code>rsyncrosim</code> function <code><a href="../reference/parentId.html">parentId()</a></code>.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/parentId.html">parentId</a></span><span class="op">(</span><span class="va">myResultScenarioAll</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/parentId.html">parentId</a></span><span class="op">(</span><span class="va">myResultScenarioAll</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
</div>
<div id="access-model-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#access-model-metadata" class="anchor"></a>Access model metadata</h2>
<div id="getting-library-information-using-info" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-library-information-using-info" class="anchor"></a>Getting Library information using <code>info()</code>
</h3>
<p>Retrieve Library information:</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/info.html">info</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span></code></pre></div>
<pre><code>##                    property                                      value
## 1                     Name:                          helloworldLibrary
## 2                    Owner:                                        N/A
## 3            Last Modified:                      2021-09-07 at 1:33 PM
## 4                     Size:                        188 KB  (192,512 B)
## 5                Read Only:                                         No
## 6             Package Name:                             helloworldTime
## 7      Package Description: Example demonstrating how to use timesteps
## 8  Current Package Version:                                      1.0.0
## 9  Minimum Package Version:                                      1.0.0
## 10    External input files:               helloworldLibrary.ssim.input
## 11   External output files:              helloworldLibrary.ssim.output
## 12         Temporary files:                helloworldLibrary.ssim.temp
## 13            Backup files:              helloworldLibrary.ssim.backup</code></pre>
</div>
<div id="getting-information-of-any-ssimobject" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-information-of-any-ssimobject" class="anchor"></a>Getting information of any ssimObject</h3>
<p>The following functions can be used to get useful information about a Library, Project, or Scenario:</p>
<ul>
<li>
<code><a href="../reference/name.html">name()</a></code> : used to retrieve or assign a name</li>
<li>
<code><a href="../reference/owner.html">owner()</a></code> : used to retrieve or assign an owner</li>
<li>
<code><a href="../reference/dateModified.html">dateModified()</a></code> : used to retrieve the date when the last changes were made</li>
<li>
<code><a href="../reference/readOnly.html">readOnly()</a></code> : used to retrieve or assign the read-only status</li>
<li>
<code><a href="../reference/filepath.html">filepath()</a></code> : retrieve local file path</li>
<li>
<code><a href="../reference/description.html">description()</a></code> : retrieve or add a description</li>
</ul>
<p>You can also find identification numbers of Projects or Scenarios using the following functions:</p>
<ul>
<li>
<code>projectID()</code> : used to retrieve the Project identification number</li>
<li>
<code>scenarioID()</code> : used to retrieve the Scenario identification number</li>
</ul>
</div>
</div>
<div id="backup-your-library" class="section level2">
<h2 class="hasAnchor">
<a href="#backup-your-library" class="anchor"></a>Backup your Library</h2>
<p>Once you have finished running your models, you may want to backup the inputs and results into a zipped .backup subfolder. First, we want to modify the Library Backup Datasheet to allow the backup of model outputs. Since this Datasheet is part of the built-in SyncroSim core, the name of the Datasheet has the prefix “core”.</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Get the current values for the Library's Backup Datasheet</span>
<span class="va">sheetData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myLibrary</span>, name <span class="op">=</span> <span class="st">"core_Backup"</span><span class="op">)</span>   

<span class="co"># View current values for the Library's Backup Datasheet</span>
<span class="va">sheetData</span></code></pre></div>
<pre><code>##   IncludeInput IncludeOutput BeforeUpdate
## 1         TRUE            NA         TRUE</code></pre>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Add output to the Library's Backup Datasheet and save</span>
<span class="va">sheetData</span><span class="op">$</span><span class="va">IncludeOutput</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span> 
<span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myLibrary</span>, data <span class="op">=</span> <span class="va">sheetData</span>, name <span class="op">=</span> <span class="st">"core_Backup"</span><span class="op">)</span></code></pre></div>
<pre><code>## Datasheet &lt;core_Backup&gt; saved</code></pre>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check to make sure IncludeOutput is now TRUE</span>
<span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myLibrary</span>, <span class="st">"core_Backup"</span><span class="op">)</span></code></pre></div>
<pre><code>##   IncludeInput IncludeOutput BeforeUpdate
## 1         TRUE          TRUE         TRUE</code></pre>
<p>Now, you can use the <code><a href="../reference/backup.html">backup()</a></code> function from <code>rsyncrosim</code> to backup a Library, Project, or Scenario.</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/backup.html">backup</a></span><span class="op">(</span><span class="va">myLibrary</span><span class="op">)</span></code></pre></div>
<pre><code>## Backup complete.</code></pre>
</div>
<div id="rsyncrosim-and-the-syncrosim-windows-user-interface" class="section level2">
<h2 class="hasAnchor">
<a href="#rsyncrosim-and-the-syncrosim-windows-user-interface" class="anchor"></a><code>rsyncrosim</code> and the SyncroSim Windows User Interface</h2>
<p>It can be useful to work in both <code>rsyncrosim</code> and the SyncroSim Windows User Interface at the same time. You can easily modify Datasheets and run Scenarios in <code>rsyncrosim</code>, while updating the Library and plotting outputs in the User Interface. To sync the Library in the User Interface with the latest changes from the <code>rsyncrosim</code> code, click the refresh icon in the upper tool bar of the User Interface.</p>
<div class="figure">
<img src="rsyncrosim-with-UI.PNG" width="600" alt=""><p class="caption">Using <code>rsyncrosim</code> with the SyncroSim Windows User Interface</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Colin Daniel, Josie Hughes, Valentin Lucet, Alex Embrey, Katie Birchard, Leonardo Frid, Tabitha Kennedy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
