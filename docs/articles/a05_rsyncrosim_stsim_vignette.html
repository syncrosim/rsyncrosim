<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>`rsyncrosim`: introduction to `ST-Sim` • rsyncrosim</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="`rsyncrosim`: introduction to `ST-Sim`">
<meta property="og:description" content="rsyncrosim">
<meta property="og:image" content="https://syncrosim.github.io/rsyncrosim/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rsyncrosim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a01_rsyncrosim_vignette_basic.html">Introduction to `rsyncrosim`</a>
    </li>
    <li>
      <a href="../articles/a02_rsyncrosim_vignette_uncertainty.html">`rsyncrosim`: introduction to uncertainty</a>
    </li>
    <li>
      <a href="../articles/a03_rsyncrosim_vignette_pipelines.html">`rsyncrosim`: introduction to pipelines</a>
    </li>
    <li>
      <a href="../articles/a04_rsyncrosim_vignette_spatial.html">`rsyncrosim`: introduction to spatial data</a>
    </li>
    <li>
      <a href="../articles/a05_rsyncrosim_stsim_vignette.html">`rsyncrosim`: introduction to `ST-Sim`</a>
    </li>
    <li>
      <a href="../articles/a06_rsyncrosim_install_github.html">Installing GitHub release</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/syncrosim/rsyncrosim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>
<code>rsyncrosim</code>: introduction to
<code>ST-Sim</code>
</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/syncrosim/rsyncrosim/blob/HEAD/vignettes/a05_rsyncrosim_stsim_vignette.Rmd" class="external-link"><code>vignettes/a05_rsyncrosim_stsim_vignette.Rmd</code></a></small>
      <div class="hidden name"><code>a05_rsyncrosim_stsim_vignette.Rmd</code></div>

    </div>

    
    
<p>This vignette will cover how to develop and run spatially-explicit,
stochastic state-and-transition simulation models of landscape change
using the <code>rsyncrosim</code> package within the
<a href="https://syncrosim.com/" target="_blank" class="external-link">SyncroSim</a> software
framework. For an overview of
<a href="https://syncrosim.com/" target="_blank" class="external-link">SyncroSim</a> and
<code>rsyncrosim</code>, as well as a basic usage tutorial for
<code>rsyncrosim</code>, see the
<a href="https://syncrosim.github.io/rsyncrosim/articles/a01_rsyncrosim_vignette_basic.html#setup-1" target="_blank">Introduction
to <code>rsyncrosim</code></a> vignette.</p>
<div class="section level2">
<h2 id="syncrosim-package-stsim">SyncroSim Package: <code>stsim</code><a class="anchor" aria-label="anchor" href="#syncrosim-package-stsim"></a>
</h2>
<p>To demonstrate how to create and run spatially-explicit, stochastic
state-and-transition simulation models (STSMs) of landscape change, we
will be using the
<a href="https://github.com/ApexRMS/stsim" target="_blank" class="external-link">stsim</a>
SyncroSim package. STSMs are well-suited for integrating uncertainty
into model projections, and have been applied to a variety of landscapes
and management questions. In this <code>stsim</code> example below, we
will model changes in forest cover types under two scenarios: no harvest
within a landscape, and harvest of 20 acres per year. To do this, we
will set a number of model parameters describing how many timesteps and
iterations the model will run for, transition types and their
probabilities, transition targets (particularly, for the harvest
transition type), etc. Next, we will provide <code>stsim</code> with a
set of initial conditions that describe the starting landscape at time
0, and specify parameters for the model’s output. After running both
scenarios, we will view the output data in tabular form and as a raster
layer. Spatial and non-spatial examples of this exercise are
provided.</p>
<p>For more details on <code>stsim</code>, consult the
<a href="https://docs.stsim.net/" target="_blank" class="external-link">ST-Sim online
documentation</a>.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="section level3">
<h3 id="install-syncrosim">Install SyncroSim<a class="anchor" aria-label="anchor" href="#install-syncrosim"></a>
</h3>
<p>Before using <code>rsyncrosim</code> you will first need to
<a href="https://syncrosim.com/download/" target="_blank" class="external-link">download and
install</a> the SyncroSim software. Versions of SyncroSim exist for both
Windows and Linux.</p>
</div>
<div class="section level3">
<h3 id="installing-and-loading-r-packages">Installing and loading R packages<a class="anchor" aria-label="anchor" href="#installing-and-loading-r-packages"></a>
</h3>
<p>You will need to install the <code>rsyncrosim</code> R package,
either using
<a href="https://cran.r-project.org/" target="_blank" class="external-link">CRAN</a> or from
the <code>rsyncrosim</code>
<a href="https://github.com/syncrosim/rsyncrosim/releases/" target="_blank" class="external-link">GitHub
repository</a>. Versions of <code>rsyncrosim</code> are available for
both Windows and Linux. You may need to install the <code>raster</code>
and <code>rgdal</code> packages from CRAN as well.</p>
<p>In a new R script, load the necessary packages. This includes the
<code>rsyncrosim</code> and <code>raster</code> R packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load R packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rsyncrosim</span><span class="op">)</span>  <span class="co"># package for working with SyncroSim</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: package 'rsyncrosim' was built under R version 4.3.3</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span>       <span class="co"># package for working with spatial data</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="connecting-r-to-syncrosim-using-session">Connecting R to SyncroSim using <code>session()</code><a class="anchor" aria-label="anchor" href="#connecting-r-to-syncrosim-using-session"></a>
</h3>
<p>Finish setting up the R environment for the <code>rsyncrosim</code>
workflow by creating a SyncroSim Session object. Use the
<code><a href="../reference/session.html">session()</a></code> function to connect R to your installed copy of
the SyncroSim software.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="st">"path/to/install_folder"</span><span class="op">)</span>      <span class="co"># Create a Session based SyncroSim install folder</span></span>
<span><span class="va">mySession</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/session.html">session</a></span><span class="op">(</span><span class="op">)</span>                              <span class="co"># Using default install folder (Windows only)</span></span>
<span><span class="va">mySession</span>                                           <span class="co"># Displays the Session object</span></span></code></pre></div>
<pre><code><span><span class="co">## class               : Session</span></span>
<span><span class="co">## filepath [character]: C:/Program Files/SyncroSim</span></span>
<span><span class="co">## silent [logical]    : TRUE</span></span>
<span><span class="co">## printCmd [logical]  : FALSE</span></span>
<span><span class="co">## condaFilepath [NULL]:</span></span></code></pre>
<p>Use the <code><a href="../reference/version.html">version()</a></code> function to ensure you are using the
latest version of SyncroSim.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/version.html">version</a></span><span class="op">(</span><span class="va">mySession</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "2.5.11"</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="installing-syncrosim-packages-using-installPackage">Installing SyncroSim packages using <code>installPackage()</code><a class="anchor" aria-label="anchor" href="#installing-syncrosim-packages-using-installPackage"></a>
</h3>
<p>Install <code>stsim</code> using the <code>rsyncrosim</code> function
<code><a href="../reference/installPackage.html">installPackage()</a></code>. This function takes a package name as input
and then queries the SyncroSim package server for the specified
package.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install stsim</span></span>
<span><span class="fu"><a href="../reference/installPackage.html">installPackage</a></span><span class="op">(</span><span class="st">"stsim"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Package &lt;stsim&gt; installed</span></span></code></pre>
<p><code>stsim</code> should now be included in the package list
returned by the <code><a href="../reference/package.html">package()</a></code> function in
<code>rsyncrosim</code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get list of installed packages</span></span>
<span><span class="fu"><a href="../reference/package.html">package</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    name                                      description version</span></span>
<span><span class="co">## 1 stsim The ST-Sim state-and-transition simulation model   3.4.5</span></span>
<span><span class="co">##                                       location status</span></span>
<span><span class="co">## 1 C:\\Users\\sarah\\SyncroSim\\Packages\\stsim     OK</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="create-a-modeling-workflow">Create a modeling workflow<a class="anchor" aria-label="anchor" href="#create-a-modeling-workflow"></a>
</h2>
<p>When creating a new modeling workflow from scratch, we need to create
objects of the following scopes:</p>
<ul>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank" class="external-link">Library</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank" class="external-link">Projects</a></li>
<li><a href="https://docs.syncrosim.com/how_to_guides/library_overview.html" target="_blank" class="external-link">Scenarios</a></li>
</ul>
<p>For more information on these scopes, see the</p>
<p><a href="https://syncrosim.github.io/rsyncrosim/articles/a01_rsyncrosim_vignette_basic.html" target="_blank">Introduction
to <code>rsyncrosim</code></a> vignette.</p>
<div class="section level3">
<h3 id="set-up-library-project-and-scenario">Set up Library, Project, and Scenario<a class="anchor" aria-label="anchor" href="#set-up-library-project-and-scenario"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new Library</span></span>
<span><span class="va">myLibrary</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ssimLibrary.html">ssimLibrary</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"stsimLibrary.ssim"</span>,</span>
<span>                         session <span class="op">=</span> <span class="va">mySession</span>,</span>
<span>                         package <span class="op">=</span> <span class="st">"stsim"</span>,</span>
<span>                         overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Open the default Project</span></span>
<span><span class="va">myProject</span> <span class="op">&lt;-</span> <span class="fu">rsyncrosim</span><span class="fu">::</span><span class="fu"><a href="../reference/project.html">project</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myLibrary</span>, project <span class="op">=</span> <span class="st">"Definitions"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new Scenario (associated with the default Project)</span></span>
<span><span class="va">myScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myProject</span>, scenario <span class="op">=</span> <span class="st">"My spatial scenario"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="view-model-inputs-using-datasheet">View model inputs using <code>datasheet()</code><a class="anchor" aria-label="anchor" href="#view-model-inputs-using-datasheet"></a>
</h3>
<p>View the Datasheets associated with your new Project and Scenario
using the <code><a href="../reference/datasheet.html">datasheet()</a></code> function from
<code>rsyncrosim</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View all Datasheets associated with a Library, Project, or Scenario</span></span>
<span><span class="va">datasheet_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="va">datasheet_list</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##     scope                 name              displayName</span></span>
<span><span class="co">## 1 library          core_Backup                   Backup</span></span>
<span><span class="co">## 2 library     core_CondaConfig      Conda Configuration</span></span>
<span><span class="co">## 3 library        core_JlConfig      Julia Configuration</span></span>
<span><span class="co">## 4 library      core_LNGPackage Last Known Good Packages</span></span>
<span><span class="co">## 5 library core_Multiprocessing          Multiprocessing</span></span>
<span><span class="co">## 6 library         core_Options                  Options</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/headtail.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">datasheet_list</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        scope                                        name</span></span>
<span><span class="co">## 107 scenario             stsim_TransitionSlopeMultiplier</span></span>
<span><span class="co">## 108 scenario stsim_TransitionSpatialInitiationMultiplier</span></span>
<span><span class="co">## 109 scenario           stsim_TransitionSpatialMultiplier</span></span>
<span><span class="co">## 110 scenario          stsim_TransitionSpreadDistribution</span></span>
<span><span class="co">## 111 scenario                      stsim_TransitionTarget</span></span>
<span><span class="co">## 112 scenario        stsim_TransitionTargetPrioritization</span></span>
<span><span class="co">##                                   displayName</span></span>
<span><span class="co">## 107              Transition Slope Multipliers</span></span>
<span><span class="co">## 108 Transition Spatial Initiation Multipliers</span></span>
<span><span class="co">## 109            Transition Spatial Multipliers</span></span>
<span><span class="co">## 110            Transition Spread Distribution</span></span>
<span><span class="co">## 111                        Transition Targets</span></span>
<span><span class="co">## 112          Transition Target Prioritization</span></span></code></pre>
<p>From this list of Datasheets, we can check which Datasheets specific
to the <code>stsim</code> package we would like to modify. This will
include a number of Initial Conditions Datasheets, Output Datasheets,
and a Run Control Datasheet. For more information about all
<code>stsim</code> Datasheets, see
<a href="https://docs.stsim.net/reference/properties.html" target="_blank" class="external-link">the
online documentation</a>.</p>
</div>
<div class="section level3">
<h3 id="configure-model-inputs-using-datasheet-and-addrow">Configure model inputs using <code>datasheet()</code> and
<code>addRow()</code><a class="anchor" aria-label="anchor" href="#configure-model-inputs-using-datasheet-and-addrow"></a>
</h3>
<p>Now, we will add some values to these Datasheets so we can run our
models.</p>
<p>Inputs for <code>stsim</code> come in two forms: Scenario inputs
(which <em>can</em> vary by Scenario) and Project inputs (which
<em>must</em> be fixed across all Scenarios). In general most inputs are
Scenario inputs; Project inputs are typically reserved for values that
must be shared by all Scenarios (e.g. constants, shared lookup values).
We refer to Project input Datasheets as <em>Project-scoped
Datasheets</em> and Scenario input Datasheets as <em>Scenario-scoped
Datasheets</em>. We will start by retrieving some Project-scoped input
Datasheets to add and edit their values.</p>
<div class="section level4">
<h4 id="project-scoped-datasheets">Project-scoped Datasheets<a class="anchor" aria-label="anchor" href="#project-scoped-datasheets"></a>
</h4>
<p><strong>Terminology</strong>: The Project-scoped Datasheet called
<code>Terminology</code> specifies terms used across all Scenarios in
the same Project.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the Terminology Datasheet to a new R data frame </span></span>
<span><span class="va">terminology</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myProject</span>, name <span class="op">=</span> <span class="st">"stsim_Terminology"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check the columns of the Terminology data frame</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">terminology</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## 'data.frame':    1 obs. of  8 variables:</span></span>
<span><span class="co">##  $ AmountLabel          : chr "Area"</span></span>
<span><span class="co">##  $ AmountUnits          : Factor w/ 5 levels "acres","hectares",..: 1</span></span>
<span><span class="co">##  $ StateLabelX          : chr "Class"</span></span>
<span><span class="co">##  $ StateLabelY          : chr "Subclass"</span></span>
<span><span class="co">##  $ PrimaryStratumLabel  : chr "Primary Stratum"</span></span>
<span><span class="co">##  $ SecondaryStratumLabel: chr "Secondary Stratum"</span></span>
<span><span class="co">##  $ TertiaryStratumLabel : chr "Tertiary Stratum"</span></span>
<span><span class="co">##  $ TimestepUnits        : chr "Timestep"</span></span></code></pre>
<p>We can change the terminology of the <code>StateLabelX</code> and
<code>AmountUnits</code> columns in this Datasheet, and then save those
changes back to the SyncroSim Library file.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Edit the values of the StateLabelX and AmountUnits columns</span></span>
<span><span class="va">terminology</span><span class="op">$</span><span class="va">AmountUnits</span> <span class="op">&lt;-</span> <span class="st">"hectares"</span></span>
<span><span class="va">terminology</span><span class="op">$</span><span class="va">StateLabelX</span> <span class="op">&lt;-</span> <span class="st">"Forest Type"</span></span>
<span></span>
<span><span class="co"># Saves edits as a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="va">terminology</span>, <span class="st">"stsim_Terminology"</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_Terminology&gt; saved</span></span></code></pre>
<p>Similarly, we can edit other Project-scoped Datasheets for
‘stsim’.</p>
<p><strong>Stratum</strong>: Primary Strata in the model</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load a copy of the Stratum Datasheet.</span></span>
<span><span class="co"># To load an empty copy of this Datasheet, specify the argument empty = TRUE in the datasheet() function.</span></span>
<span><span class="va">stratum</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="st">"stsim_Stratum"</span>, empty <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use the addRow() to add a value to the stratum  data frame</span></span>
<span><span class="va">stratum</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">stratum</span>, <span class="st">"Entire Forest"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save edits as a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="va">stratum</span>, <span class="st">"stsim_Stratum"</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_Stratum&gt; saved</span></span></code></pre>
<p><strong>StateLabelX</strong>: First dimension of labels for State
Classes</p>
<p>It is also possible to add values to a Datasheet without loading it
into R. Below we create a vector of <code>forestTypes</code> and add
this to the <code>stsim_StateLabelX</code> Datasheet as a data frame
using <code><a href="../reference/saveDatasheet.html">saveDatasheet()</a></code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a vector containing the State Class labels </span></span>
<span><span class="va">forestTypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Coniferous"</span>, <span class="st">"Deciduous"</span>, <span class="st">"Mixed"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add values as a data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="va">forestTypes</span><span class="op">)</span>, </span>
<span>              <span class="st">"stsim_StateLabelX"</span>, </span>
<span>              force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_StateLabelX&gt; saved</span></span></code></pre>
<p><strong>StateLabelY</strong>: Second dimension of labels for State
Classes</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add values as a data frame directly to an stsim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"All"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>              <span class="st">"stsim_StateLabelY"</span>, </span>
<span>              force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_StateLabelY&gt; saved</span></span></code></pre>
<p><strong>State Classes</strong>: Combine <code>StateLabelX</code> and
<code>StateLabelY</code>, and assign each class a unique name and ID</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new R data frame containing the names of the State Classes and their corresponding data</span></span>
<span><span class="va">stateClasses</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="va">forestTypes</span><span class="op">)</span></span>
<span><span class="va">stateClasses</span><span class="op">$</span><span class="va">StateLabelXID</span> <span class="op">&lt;-</span> <span class="va">stateClasses</span><span class="op">$</span><span class="va">Name</span></span>
<span><span class="va">stateClasses</span><span class="op">$</span><span class="va">StateLabelYID</span> <span class="op">&lt;-</span> <span class="st">"All"</span></span>
<span><span class="va">stateClasses</span><span class="op">$</span><span class="va">ID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save stateClasses R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="va">stateClasses</span>, <span class="st">"stsim_StateClass"</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_StateClass&gt; saved</span></span></code></pre>
<p><strong>Transition Types</strong>: Assign a unique name and ID to
each type of transition in our model.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an R data frame containing transition type data </span></span>
<span><span class="va">transitionTypes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fire"</span>, <span class="st">"Harvest"</span>, <span class="st">"Succession"</span><span class="op">)</span>, </span>
<span>                              ID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save transitionTypes R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="va">transitionTypes</span>, <span class="st">"stsim_TransitionType"</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_TransitionType&gt; saved</span></span></code></pre>
<p><strong>Transition Groups</strong>: Create Transition Groups
identical to the Types</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an R data frame containing a column of transition type names </span></span>
<span><span class="va">transitionGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fire"</span>, <span class="st">"Harvest"</span>, <span class="st">"Succession"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save transitionGroups R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="va">transitionGroups</span>, <span class="st">"TransitionGroup"</span>, force <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_TransitionGroup&gt; saved</span></span></code></pre>
<p><strong>Transition Types by Groups</strong>: Assign each Type to its
Group</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an R data frame that contains Transition Type Group names</span></span>
<span><span class="va">transitionTypesGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>TransitionTypeID <span class="op">=</span> <span class="va">transitionTypes</span><span class="op">$</span><span class="va">Name</span>,</span>
<span>                                    TransitionGroupID <span class="op">=</span> <span class="va">transitionGroups</span><span class="op">$</span><span class="va">Name</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save transitionTypesGroups R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>              <span class="va">transitionTypesGroups</span>, </span>
<span>              <span class="st">"TransitionTypeGroup"</span>, </span>
<span>              force <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_TransitionTypeGroup&gt; saved</span></span></code></pre>
<p><strong>Ages</strong>: Define the basic parameters to control the age
reporting in the model</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define values for age reporting</span></span>
<span><span class="va">ageFrequency</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">ageMax</span> <span class="op">&lt;-</span> <span class="fl">101</span></span>
<span><span class="va">ageGroups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">80</span>, <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add values as R data frames to the appropriate SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Frequency <span class="op">=</span> <span class="va">ageFrequency</span>, MaximumAge <span class="op">=</span> <span class="va">ageMax</span><span class="op">)</span>,</span>
<span>              <span class="st">"AgeType"</span>, </span>
<span>              force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_AgeType&gt; saved</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>MaximumAge <span class="op">=</span> <span class="va">ageGroups</span><span class="op">)</span>, </span>
<span>              <span class="st">"stsim_AgeGroup"</span>, </span>
<span>              force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_AgeGroup&gt; saved</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="scenario-scoped-datasheets">Scenario-scoped Datasheets<a class="anchor" aria-label="anchor" href="#scenario-scoped-datasheets"></a>
</h4>
<p>Now that we have defined all our Project-scoped input Datasheets, we
can move on to specifying Scenario-specific model inputs. We begin by
using the <code>scenario</code> function to create a new Scenario in our
Project.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a new SyncroSim Scenario</span></span>
<span><span class="va">myScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myProject</span>, <span class="st">"No Harvest"</span><span class="op">)</span></span></code></pre></div>
<p>Once again we can use the <code><a href="../reference/datasheet.html">datasheet()</a></code> function (with
<code>summary=TRUE</code>) to display all the Scenario-scoped
Datasheets.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Subset the full Datasheet list to show only Scenario-scoped Datasheets</span></span>
<span><span class="va">scenario_datasheet_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, summary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>                                  <span class="va">scope</span> <span class="op">==</span> <span class="st">"scenario"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="va">scenario_datasheet_list</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       scope                            name                displayName</span></span>
<span><span class="co">## 46 scenario            core_AutoGenTagValue Auto Generation Tag Values</span></span>
<span><span class="co">## 47 scenario                   core_Pipeline                   Pipeline</span></span>
<span><span class="co">## 48 scenario     corestime_DistributionValue              Distributions</span></span>
<span><span class="co">## 49 scenario              corestime_External                   External</span></span>
<span><span class="co">## 50 scenario corestime_ExternalVariableValue         External Variables</span></span>
<span><span class="co">## 51 scenario       corestime_Multiprocessing    Spatial Multiprocessing</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/headtail.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">scenario_datasheet_list</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##        scope                                        name</span></span>
<span><span class="co">## 107 scenario             stsim_TransitionSlopeMultiplier</span></span>
<span><span class="co">## 108 scenario stsim_TransitionSpatialInitiationMultiplier</span></span>
<span><span class="co">## 109 scenario           stsim_TransitionSpatialMultiplier</span></span>
<span><span class="co">## 110 scenario          stsim_TransitionSpreadDistribution</span></span>
<span><span class="co">## 111 scenario                      stsim_TransitionTarget</span></span>
<span><span class="co">## 112 scenario        stsim_TransitionTargetPrioritization</span></span>
<span><span class="co">##                                   displayName</span></span>
<span><span class="co">## 107              Transition Slope Multipliers</span></span>
<span><span class="co">## 108 Transition Spatial Initiation Multipliers</span></span>
<span><span class="co">## 109            Transition Spatial Multipliers</span></span>
<span><span class="co">## 110            Transition Spread Distribution</span></span>
<span><span class="co">## 111                        Transition Targets</span></span>
<span><span class="co">## 112          Transition Target Prioritization</span></span></code></pre>
<p>We can now use the <code><a href="../reference/datasheet.html">datasheet()</a></code> function to retrieve, one
at a time, each of our Scenario-scoped Datasheets from our Library.</p>
<p><strong>Run Control</strong>: Define the length of the run and
whether or not it is a spatial run (requires spatial inputs to be set,
see below). Here we make the run spatial.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an R data frame specifying to run the simulation for 7 realizations and 10 timesteps</span></span>
<span><span class="va">runControl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>MaximumIteration <span class="op">=</span> <span class="fl">7</span>,</span>
<span>                         MinimumTimestep <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                         MaximumTimestep <span class="op">=</span> <span class="fl">10</span>,</span>
<span>                         IsSpatial <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save transitionTypesGroups R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">runControl</span>, <span class="st">"stsim_RunControl"</span>,append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_RunControl&gt; saved</span></span></code></pre>
<p><strong>Deterministic Transitions</strong>: Define transitions that
take place in the absence of probabilistic transitions. Here we also set
the age boundaries for each State Class.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load  an empty Deterministic Transitions Datasheet to a new R data frame</span></span>
<span><span class="va">dTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, </span>
<span>                          <span class="st">"stsim_DeterministicTransition"</span>, </span>
<span>                          optional <span class="op">=</span> <span class="cn">T</span>, </span>
<span>                          empty <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add all Deterministic Transitions to the R data frame</span></span>
<span><span class="va">dTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">dTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Coniferous"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Coniferous"</span>,</span>
<span>  AgeMin <span class="op">=</span> <span class="fl">21</span>,</span>
<span>  Location <span class="op">=</span> <span class="st">"C1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">dTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Deciduous"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Deciduous"</span>,</span>
<span>  Location <span class="op">=</span> <span class="st">"A1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">dTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Mixed"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Mixed"</span>,</span>
<span>  AgeMin <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  Location <span class="op">=</span> <span class="st">"B1"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save dTransitions R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">dTransitions</span>, <span class="st">"stsim_DeterministicTransition"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_DeterministicTransition&gt; saved</span></span></code></pre>
<p><strong>Probabilistic Transitions</strong>: Define transitions
between State Classes and assigns a probability to each.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load  an empty Probabilistic Transitions Datasheet to a new R data frame</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="st">"stsim_Transition"</span>, optional <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                          empty <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add all Probabilistic Transitions to the R data frame</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Coniferous"</span>, </span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Deciduous"</span>, </span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Fire"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Coniferous"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Deciduous"</span>, </span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Harvest"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  AgeMin <span class="op">=</span> <span class="fl">40</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Deciduous"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Deciduous"</span>, </span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Fire"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">0.002</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Deciduous"</span>,</span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Mixed"</span>, </span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Succession"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">0.1</span>, </span>
<span>  AgeMin <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Mixed"</span>, </span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Deciduous"</span>, </span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Fire"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">0.005</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pTransitions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/addRow.html">addRow</a></span><span class="op">(</span><span class="va">pTransitions</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  StateClassIDSource <span class="op">=</span> <span class="st">"Mixed"</span>, </span>
<span>  StateClassIDDest <span class="op">=</span> <span class="st">"Coniferous"</span>,</span>
<span>  TransitionTypeID <span class="op">=</span> <span class="st">"Succession"</span>, </span>
<span>  Probability <span class="op">=</span> <span class="fl">0.1</span>, </span>
<span>  AgeMin <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save pTransitions R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">pTransitions</span>, <span class="st">"stsim_Transition"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_Transition&gt; saved</span></span></code></pre>
<p><strong>Initial Conditions</strong>: Set the starting conditions of
the model at time 0. There are two options for setting initial
conditions: either spatial or non-spatial. In this example we will use
spatial initial conditions; however, we also demonstrate how to set
initial conditions non-spatially below.</p>
<ul>
<li>
<strong><em>Option 1 - Spatial</em></strong>. Let’s first take a
look at our rasters. We will retrieve the sample raster files (in
GeoTIFF format) provided with the <code>rsyncrosim</code> package.</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load sample .tif files</span></span>
<span><span class="va">stratumTif</span> <span class="op">&lt;-</span> <span class="st">"initial-stratum.tif"</span></span>
<span><span class="va">sclassTif</span> <span class="op">&lt;-</span> <span class="st">"initial-sclass.tif"</span></span>
<span><span class="va">ageTif</span> <span class="op">&lt;-</span> <span class="st">"initial-age.tif"</span></span></code></pre></div>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create raster layers from the .tif files</span></span>
<span><span class="va">rStratum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">stratumTif</span><span class="op">)</span></span>
<span><span class="va">rSclass</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">sclassTif</span><span class="op">)</span></span>
<span><span class="va">rAge</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">ageTif</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot raster layers</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rStratum</span><span class="op">)</span></span></code></pre></div>
<p><img src="a05_rsyncrosim_stsim_vignette_files/figure-html/plot%20initial%20conditions%20rasters-1.png" width="480" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rSclass</span><span class="op">)</span></span></code></pre></div>
<p><img src="a05_rsyncrosim_stsim_vignette_files/figure-html/plot%20initial%20conditions%20rasters-2.png" width="480" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rAge</span><span class="op">)</span></span></code></pre></div>
<p><img src="a05_rsyncrosim_stsim_vignette_files/figure-html/plot%20initial%20conditions%20rasters-3.png" width="480" style="display: block; margin: auto;"></p>
<p>We can add these rasters as model inputs using the
<code>stsim_InitialConditionsSpatial</code> Datasheet.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create an R list of the input raster layers</span></span>
<span><span class="va">ICSpatial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>StratumFileName <span class="op">=</span> <span class="va">stratumTif</span>, </span>
<span>                  StateClassFileName <span class="op">=</span> <span class="va">sclassTif</span>, </span>
<span>                  AgeFileName <span class="op">=</span> <span class="va">ageTif</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save initialConditionsSpatial R list to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">ICSpatial</span>, <span class="st">"stsim_InitialConditionsSpatial"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_InitialConditionsSpatial&gt; saved</span></span></code></pre>
<ul>
<li>
<strong><em>Option 2 - Non-spatial</em></strong>. The second option
is to set the proportions of each class, making this a non-spatial
parameterization. To do so, we use the
<code>stsim_InitialConditionsNonSpatial</code> and
<code>stsim_InitialConditionsNonSpatialDistribution</code>
datasheets:</li>
</ul>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create non-spatial initial conditions data and add it to an R data frame</span></span>
<span><span class="va">ICNonSpatial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>TotalAmount <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                           NumCells <span class="op">=</span> <span class="fl">100</span>, </span>
<span>                           CalcFromDist <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the ICNonSpatial R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">ICNonSpatial</span>, <span class="st">"stsim_InitialConditionsNonSpatial"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_InitialConditionsNonSpatial&gt; saved</span></span></code></pre>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create non-spatial initial conditions distribution data and add it to an R data frame</span></span>
<span><span class="va">ICNonSpatialDistribution</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>StratumID <span class="op">=</span> <span class="st">"Entire Forest"</span>, </span>
<span>                                       StateClassID <span class="op">=</span> <span class="st">"Coniferous"</span>, </span>
<span>                                       RelativeAmount <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the ICNonSpatial R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">ICNonSpatialDistribution</span>,</span>
<span>              <span class="st">"stsim_InitialConditionsNonSpatialDistribution"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_InitialConditionsNonSpatialDistribution&gt; saved</span></span></code></pre>
<p><strong>Transition Targets</strong>: Define targets, in units of
area, to be reached by the allocation procedure within SyncroSim.</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the transition target for harvest to 0</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, </span>
<span>              <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>TransitionGroupID <span class="op">=</span> <span class="st">"Harvest"</span>, </span>
<span>                         Amount <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>              <span class="st">"stsim_TransitionTarget"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_TransitionTarget&gt; saved</span></span></code></pre>
<p><strong>Output Options</strong>: Regulate the model outputs and
determine the frequency at which syncrosim saves the model outputs.</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create output options for spatial model and add it to an R data frame</span></span>
<span><span class="va">outputOptionsSpatial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  RasterOutputSC <span class="op">=</span> <span class="cn">T</span>, RasterOutputSCTimesteps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  RasterOutputTR <span class="op">=</span> <span class="cn">T</span>, RasterOutputTRTimesteps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  RasterOutputAge <span class="op">=</span> <span class="cn">T</span>, RasterOutputAgeTimesteps <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the outputOptionsSpatial R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">outputOptionsSpatial</span>, <span class="st">"stsim_OutputOptionsSpatial"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_OutputOptionsSpatial&gt; saved</span></span></code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create output options for non-spatial model and add it to an R data frame</span></span>
<span><span class="va">outputOptionsNonSpatial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  SummaryOutputSC <span class="op">=</span> <span class="cn">T</span>, SummaryOutputSCTimesteps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  SummaryOutputTR <span class="op">=</span> <span class="cn">T</span>, SummaryOutputTRTimesteps <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the outputOptionsNonSpatial R data frame to a SyncroSim Datasheet</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenario</span>, <span class="va">outputOptionsNonSpatial</span>, <span class="st">"stsim_OutputOptions"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_OutputOptions&gt; saved</span></span></code></pre>
<p>We are done parameterizing our simple “No Harvest” Scenario. Let’s
now define a new Scenario that implements forest harvesting. Below, we
create a second “Harvest” Scenario that is a copy of the first Scenario,
but with a harvest level of 20 acres/year.</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a copy of the no harvest scenario (i.e myScenario) and name it myScenarioHarvest</span></span>
<span><span class="va">myScenarioHarvest</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scenario.html">scenario</a></span><span class="op">(</span><span class="va">myProject</span>, </span>
<span>                              scenario <span class="op">=</span> <span class="st">"Harvest"</span>, </span>
<span>                              sourceScenario <span class="op">=</span> <span class="va">myScenario</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set the transition target for harvest to 20 acres/year</span></span>
<span><span class="fu"><a href="../reference/saveDatasheet.html">saveDatasheet</a></span><span class="op">(</span><span class="va">myScenarioHarvest</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>TransitionGroupID <span class="op">=</span> <span class="st">"Harvest"</span>, </span>
<span>                                            Amount <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, </span>
<span>              <span class="st">"stsim_TransitionTarget"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Datasheet &lt;stsim_TransitionTarget&gt; saved</span></span></code></pre>
<p>We can display the harvest levels for both scenarios.</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View the transition targets for the Harvest and No Harvest scenarios</span></span>
<span><span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span><span class="va">myProject</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Harvest"</span>, <span class="st">"No Harvest"</span><span class="op">)</span>, </span>
<span>          name <span class="op">=</span> <span class="st">"stsim_TransitionTarget"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   ScenarioId ProjectId ScenarioName ParentId ParentName TransitionGroupID</span></span>
<span><span class="co">## 1          2         1   No Harvest       NA       &lt;NA&gt;           Harvest</span></span>
<span><span class="co">## 2          3         1      Harvest       NA       &lt;NA&gt;           Harvest</span></span>
<span><span class="co">##   Amount</span></span>
<span><span class="co">## 1      0</span></span>
<span><span class="co">## 2     20</span></span></code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="run-scenarios">Run Scenarios<a class="anchor" aria-label="anchor" href="#run-scenarios"></a>
</h2>
<div class="section level3">
<h3 id="setting-run-parameters-with-run">Setting run parameters with <code>run()</code><a class="anchor" aria-label="anchor" href="#setting-run-parameters-with-run"></a>
</h3>
<p>We will now run both Scenarios using the <code><a href="../reference/run.html">run()</a></code> function
in <code>rsyncrosim</code>. Running a Scenario generates a corresponding
new child Scenario, called a <em>Results Scenario</em>, which contains
the results of the run along with a snapshot of all the model inputs. If
we have a large modeling workflow and we want to parallelize the run
using multiprocessing, we can set the <code>jobs</code> argument to be a
value greater than one.</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run both Scenarios</span></span>
<span><span class="va">myResultScenario</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run.html">run</a></span><span class="op">(</span><span class="va">myProject</span>, scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Harvest"</span>, <span class="st">"No Harvest"</span><span class="op">)</span>, </span>
<span>                     jobs <span class="op">=</span> <span class="fl">7</span>, summary <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Running scenario [3] Harvest"</span></span>
<span><span class="co">## [1] "Running scenario [2] No Harvest"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="view-results">View results<a class="anchor" aria-label="anchor" href="#view-results"></a>
</h2>
<p>The next step is to view the output Datasheets added to the Result
Scenario when it was run. To look at the results we first need to
retrieve the unique <code>scenarioId</code> for each child <em>Result
Scenario</em>.</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve Scenario IDs</span></span>
<span><span class="va">resultIDNoHarvest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">myResultScenario</span>, </span>
<span>                            <span class="va">ParentID</span> <span class="op">==</span> <span class="fu"><a href="../reference/scenarioId.html">scenarioId</a></span><span class="op">(</span><span class="va">myScenario</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">ScenarioID</span></span>
<span><span class="va">resultIDHarvest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">myResultScenario</span>, </span>
<span>                          <span class="va">ParentID</span> <span class="op">==</span> <span class="fu"><a href="../reference/scenarioId.html">scenarioId</a></span><span class="op">(</span><span class="va">myScenarioHarvest</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">ScenarioID</span></span></code></pre></div>
<p>We can now retrieve tabular output regarding the projected State
Class over time (for both scenarios combined) from the
<code>stsim_OutputStratumState</code> Datasheet.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve output projected State Class for both Scenarios in tabular form</span></span>
<span><span class="va">outputStratumState</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheet.html">datasheet</a></span><span class="op">(</span></span>
<span>  <span class="va">myProject</span>, </span>
<span>  scenario <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">resultIDNoHarvest</span>, <span class="va">resultIDHarvest</span><span class="op">)</span>, </span>
<span>  name <span class="op">=</span> <span class="st">"stsim_OutputStratumState"</span><span class="op">)</span></span></code></pre></div>
<p>Finally, we can get the State Class raster output using the
<code><a href="../reference/datasheetRaster.html">datasheetRaster()</a></code> function (here for the Harvest scenario
only).</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Retrieve the output State Class raster for the Harvest scenario at timestep 5</span></span>
<span><span class="va">myRastersTimestep5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/datasheetSpatRaster.html">datasheetSpatRaster</a></span><span class="op">(</span>ssimObject <span class="op">=</span> <span class="va">myProject</span>, </span>
<span>                                          scenario <span class="op">=</span> <span class="va">resultIDHarvest</span>,</span>
<span>                                          datasheet <span class="op">=</span> <span class="st">"stsim_OutputSpatialState"</span>, </span>
<span>                                          timestep <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">myRastersTimestep5</span></span></code></pre></div>
<pre><code><span><span class="co">## class       : SpatRaster </span></span>
<span><span class="co">## dimensions  : 10, 10, 7  (nrow, ncol, nlyr)</span></span>
<span><span class="co">## resolution  : 1, 1  (x, y)</span></span>
<span><span class="co">## extent      : 0, 10, 0, 10  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">## coord. ref. : UTM Zone 10, Northern Hemisphere </span></span>
<span><span class="co">## sources     : sc.it1.ts5.tif  </span></span>
<span><span class="co">##               sc.it2.ts5.tif  </span></span>
<span><span class="co">##               sc.it3.ts5.tif  </span></span>
<span><span class="co">##               ... and 4 more source(s)</span></span>
<span><span class="co">## names       : sc.it1.ts5, sc.it2.ts5, sc.it3.ts5, sc.it4.ts5, sc.it5.ts5, sc.it6.ts5, ...</span></span></code></pre>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot raster for the first realization of timestep 5</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">myRastersTimestep5</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="a05_rsyncrosim_stsim_vignette_files/figure-html/view%20myRastersTimestep5-1.png" width="480" style="display: block; margin: auto auto auto 0;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Colin Daniel, Josie Hughes, Valentin Lucet, Alex Embrey, Katie Birchard, Leonardo Frid, Tabitha Kennedy, Shreeram Senthivasan.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
